<!DOCTYPE html>
<html>
<head>
    <link type="text/css" rel="stylesheet" href="./css/3rdParty/jsgrid.min.css" />
    <link type="text/css" rel="stylesheet" href="./css/3rdParty/jsgrid-theme.min.css" />
    <link type="text/css" rel="stylesheet" href="css/3rdParty/jquery-ui.min.css" />
    <link type="text/css" rel="stylesheet" href="css/3rdParty/bootstrap.datatable.min.css" />
    <link type="text/css" rel="stylesheet" href="css/3rdParty/prettify.min.css" />

    <script type="text/javascript" src="./scripts/3rdParty/jquery-2.2.2.min.js"></script>
    <script type="text/javascript" src="./scripts/3rdParty/jquery-ui-1.11.4.min.js"></script>
    <script type="text/javascript" src="./scripts/3rdParty/jsgrid.min.js"></script>
    <script type="text/javascript" src="./scripts/3rdParty/jquery.dataTables.min.js"></script>

    <title>OCR WEB</title>
	<meta charset="utf-8" />
</head>
<body>


    <div class="ui-widget">
        <label for="healthCareId">ID seguridad social: </label>
        <input id="healthCareId">
        <button id="searchForIdButton" class="ui-button-icon-only">Search</button>
    </div>

    
    <table id="jsGrid" class="dataTable table table-hover table-bordered table-responsive display pretty" cellspacing="0" style="width:80%">
        <thead>
            <tr>
                <th>Period Start</th>
                <th>Period End</th>
                <th>Money Contributor</th>
                <th>High Res File Id</th>
            </tr>
        </thead>
        
    </table>


    <script>
        $(document).ready(function () {

            var apiUrl = '@System.Configuration.ConfigurationManager.AppSettings["APIBaseUrl"]';
            var url = apiUrl + "/ContributionPeriods/30 0026409 59";
            var table = $('#jsGrid').DataTable({
                "dom": '<"top"if>rt<"bottom"lp><"clear">',
                "ajax": {
                    "url": url,
                    "dataSrc": ""
                },
                "columns": [
                    { "data": "PeriodStart" },
                    { "data": "PeriodEnd" },
                    { "data": "MoneyContribution" },
                    { "data": "HighResFileId" },
                    //{ "data": "Active", "class": "text-center" }
                ],
                "columnDefs": [
                    { "targets": 0, "title": "Period Start", "render": function (data) { return (!data) ? "" : data; } },
                    { "targets": 1, "title": "Period End", "render": function (data) { return (!data) ? "" : data; } },
                    { "targets": 2, "title": "Money Contribution", "render": function (data) { return (!data) ? "" : data; } },
                    { "targets": 3, "title": "HighRes FileId", "render": function (data) { return (!data) ? "" : data; } },
                    //{
                    //    "targets": 4, "title": "Active", "render": function (data, type, row) {
                    //        return (data === true) ? '<span class="glyphicon glyphicon-ok" style="cursor:pointer"></span>' : '<span class="glyphicon glyphicon-remove" style="cursor:pointer"></span>';
                    //    }
                    //}
                ]
            });


            //var MyDateField = function (config) {
            //    jsGrid.Field.call(this, config);
            //};

            //jsGrid.fields.date = MyDateField;
           
            //var periods = [
            //              {
            //                  "PeriodStart": "2011-01-01T00:00:00",
            //                  "PeriodEnd": "2011-12-01T00:00:00",
            //                  "MoneyContribution": 99920.66
            //              },
            //              {
            //                  "PeriodStart": "2012-01-01T00:00:00",
            //                  "PeriodEnd": "2012-12-01T00:00:00",
            //                  "MoneyContribution": 100175.64
            //              },
            //              {
            //                  "PeriodStart": "2013-01-01T00:00:00",
            //                  "PeriodEnd": "2013-12-01T00:00:00",
            //                  "MoneyContribution": 100542.51
            //              },
            //              {
            //                  "PeriodStart": "2014-01-01T00:00:00",
            //                  "PeriodEnd": "2014-12-01T00:00:00",
            //                  "MoneyContribution": 101631.59
            //              },
            //              {
            //                  "PeriodStart": "2015-01-01T00:00:00",
            //                  "PeriodEnd": "2015-09-01T00:00:00",
            //                  "MoneyContribution": 49334.24
            //              }
            //];
            //$("#jsGrid").jsGrid({
            //    width: "100%",
            //    height: "auto",
            //    inserting: false,
            //    editing: false,
            //    sorting: true,
            //    data:periods,
                

            //    fields: [
            //        { name: "PeriodStart", type: "date" },
            //        { name: "PeriodEnd", type: "date" },
            //        { name: "MoneyContribution", type: "text" }
            //    ]
            //});
            //var myHealthCareIds = [
            //                 "ActionScript",
            //                 "AppleScript",
            //                 "Asp",
            //                 "BASIC",
            //                 "C",
            //                 "C++",
            //                 "Clojure",
            //                 "COBOL",
            //                 "ColdFusion",
            //                 "Erlang",
            //                 "Fortran",
            //                 "Groovy",
            //                 "Haskell",
            //                 "Java",
            //                 "JavaScript",
            //                 "Lisp",
            //                 "Perl",
            //                 "PHP",
            //                 "Python",
            //                 "Ruby",
            //                 "Scala",
            //                 "Scheme"
            //];
            //$("#healthCareId").autocomplete({
            //    source: myHealthCareIds
            //});

            //$("#searchForIdButton").button().click(function (event) {
            //    event.preventDefault();
            //    var healthCareId = $("#healthCareId").val().replace(/\s/g, "%20");

            //    var queryUrl = apiUrl + "/ContributionPeriods/" + healthCareId;
            
            //    $.get(queryUrl, function (data) {
            //        $("#jsGrid").data = data;
                    
            //    });
            //});

        });
    </script>

</body>

</html>
